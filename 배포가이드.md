# ğŸš€ Jetson ì¹´ë©”ë¼ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ ë°°í¬ ê°€ì´ë“œ

**ì´ ë¬¸ì„œ í•˜ë‚˜ë§Œ ì½ìœ¼ë©´ ë°°í¬ ì™„ë£Œ!**

---

## ğŸ“‹ ì¤€ë¹„ë¬¼

### í•„ìˆ˜
- âœ… Jetson Orin Nano (JetPack 6.2 ì„¤ì¹˜ë¨)
- âœ… GMSL ì¹´ë©”ë¼ 3ëŒ€ (Jetson #1) ë˜ëŠ” 4ëŒ€ (Jetson #2)
- âœ… ëª¨ë‹ˆí„° + í‚¤ë³´ë“œ/ë§ˆìš°ìŠ¤
- âœ… ì¸í„°ë„· ì—°ê²° (WiFi ë˜ëŠ” ì´ë”ë„·, ì²˜ìŒì—ë§Œ í•„ìš”)

### ì„ íƒ
- USB ë“œë¼ì´ë¸Œ (ì˜¤í”„ë¼ì¸ ì„¤ì¹˜ ì‹œ)

---

## â±ï¸ ì†Œìš” ì‹œê°„

- **ì¸í„°ë„· ìˆìŒ**: ì•½ 1ì‹œê°„
- **ì˜¤í”„ë¼ì¸**: ì•½ 30ë¶„ (ì‚¬ì „ ì¤€ë¹„ ì™„ë£Œ ì‹œ)

---

## ğŸŒ ë°°í¬ ë°©ë²• ì„ íƒ

### âœ… ë°©ë²• 1: ì¸í„°ë„· ì‚¬ìš© (ì¶”ì²œ)

**í˜„ì¥ì— WiFië‚˜ í•«ìŠ¤íŒŸì´ ìˆìœ¼ë©´ ì´ ë°©ë²• ì‚¬ìš©!**

#### 1ë‹¨ê³„: í”„ë¡œì íŠ¸ ì „ì†¡ (5ë¶„)

```bash
# ê°œë°œ PCì—ì„œ ì‹¤í–‰
cd ~/jetson-camera-monitor
./transfer.sh 192.168.x.x jetson

# 192.168.x.x = íƒ€ê²Ÿ Jetson IP ì£¼ì†Œ
# jetson = íƒ€ê²Ÿ Jetson ì‚¬ìš©ì ì´ë¦„
```

**ë˜ëŠ” ìˆ˜ë™ ì „ì†¡:**
```bash
scp -r jetson-camera-monitor jetson@192.168.x.x:~/
```

#### 2ë‹¨ê³„: ì˜ì¡´ì„± ì„¤ì¹˜ (15ë¶„)

```bash
# íƒ€ê²Ÿ Jetsonì— SSH ì ‘ì† ë˜ëŠ” ì§ì ‘ í„°ë¯¸ë„
ssh jetson@192.168.x.x

# ì„¤ì¹˜ ì‹¤í–‰
cd ~/jetson-camera-monitor
./install.sh
```

**ì„¤ì¹˜ ë‚´ìš©:**
- Python íŒ¨í‚¤ì§€ (numpy, opencv, ultralytics, mqtt ë“±)
- ì‹œìŠ¤í…œ íŒ¨í‚¤ì§€ (v4l-utils, í•œê¸€ í°íŠ¸ ë“±)
- ë°ì´í„° ì €ì¥ ë””ë ‰í† ë¦¬ ìƒì„±

**ì¤‘ìš”:** `requirements.txt` íŒŒì¼ì´ ìˆì–´ì„œ **ë²„ì „ì´ ìë™ìœ¼ë¡œ ê³ ì •**ë©ë‹ˆë‹¤!

#### 3ë‹¨ê³„: ì„±ëŠ¥ ëª¨ë“œ ì„¤ì • (5ë¶„)

```bash
# MAXN ì„±ëŠ¥ ëª¨ë“œë¡œ ë³€ê²½ (ìµœëŒ€ ì„±ëŠ¥)
./set_maxn_mode.sh

# ë¶€íŒ… ì‹œ ìë™ ì ìš© (ê¶Œì¥)
./install_maxn_service.sh
sudo reboot
```

**ì¬ë¶€íŒ… í›„ ê³„ì†:**

#### 4ë‹¨ê³„: ì¹´ë©”ë¼ ë“œë¼ì´ë²„ ë¡œë“œ (5ë¶„)

```bash
cd ~/jetson-camera-monitor/camera_autostart
sudo ./camera_driver_autoload.sh

# í™•ì¸
ls -l /dev/video*
# /dev/video0, /dev/video1, /dev/video2 (Jetson #1)
# /dev/video0, /dev/video1, /dev/video2, /dev/video3 (Jetson #2)
```

#### 5ë‹¨ê³„: í”„ë¡œê·¸ë¨ ì‹¤í–‰ (10ë¶„)

**Jetson #1 (ì‚¬ëŒ ê°ì§€ + ë³¶ìŒ ëª¨ë‹ˆí„°ë§):**
```bash
cd ~/jetson-camera-monitor/jetson1_monitoring
python3 JETSON1_INTEGRATED.py
```

**Jetson #2 (íŠ€ê¹€ AI + ë°”ì¼“ ê°ì§€):**
```bash
cd ~/jetson-camera-monitor/jetson2_frying_ai
python3 JETSON2_INTEGRATED.py
```

**ì²« ì‹¤í–‰ ì‹œ:**
- YOLO ëª¨ë¸ ìë™ ë‹¤ìš´ë¡œë“œ (~5ë¶„)
- GPU ê°€ì† í™œì„±í™” í™•ì¸

**í™•ì¸ ì‚¬í•­:**
- âœ… "[GPU] PyTorch CUDA ì‚¬ìš© ê°€ëŠ¥! GPU ê°€ì† í™œì„±í™”" ë©”ì‹œì§€
- âœ… GUI ì°½ì—ì„œ ì¹´ë©”ë¼ ì˜ìƒ í‘œì‹œ
- âœ… ì‚¬ëŒ ê°ì§€ ë™ì‘ (Jetson #1)

#### 6ë‹¨ê³„: ìë™ ì‹œì‘ ì„¤ì • (ì„ íƒ, 10ë¶„)

```bash
cd ~/jetson-camera-monitor
./install_autostart.sh

# í™•ì¸
sudo systemctl status jetson-monitor

# ì¬ë¶€íŒ… í›„ ìë™ ì‹¤í–‰ í…ŒìŠ¤íŠ¸
sudo reboot
```

---

### âœ… ë°©ë²• 2: ì˜¤í”„ë¼ì¸ ì„¤ì¹˜

**WiFiê°€ ì „í˜€ ì—†ëŠ” í˜„ì¥ì´ë©´ ì´ ë°©ë²• ì‚¬ìš©!**

#### ì‚¬ì „ ì¤€ë¹„ (ê°œë°œì‹¤ì—ì„œ, ì¸í„°ë„· í•„ìš”)

```bash
# 1. ì˜¤í”„ë¼ì¸ íŒ¨í‚¤ì§€ ì¤€ë¹„
cd ~/jetson-camera-monitor
mkdir -p offline_packages

# 2. Python íŒ¨í‚¤ì§€ ë‹¤ìš´ë¡œë“œ (ì˜ì¡´ì„± í¬í•¨)
pip3 download -r requirements.txt -d offline_packages

# 3. YOLO ëª¨ë¸ ë‹¤ìš´ë¡œë“œ
cd jetson1_monitoring
mkdir -p add_model
cd add_model
wget https://github.com/ultralytics/assets/releases/download/v0.0.0/yolov8n.pt -O yolo_v8_nano.pt

# 4. ì „ì²´ ì••ì¶•
cd ~
tar -czf jetson-offline.tar.gz \
    --exclude='__pycache__' \
    --exclude='.git' \
    --exclude='Detection/*' \
    --exclude='StirFry_Data/*' \
    jetson-camera-monitor

# 5. USB ë“œë¼ì´ë¸Œì— ë³µì‚¬
cp jetson-offline.tar.gz /media/usb/
```

#### í˜„ì¥ ì„¤ì¹˜ (ì™„ì „ ì˜¤í”„ë¼ì¸)

```bash
# 1. USBì—ì„œ ë³µì‚¬
cd ~
cp /media/usb/jetson-offline.tar.gz ./
tar -xzf jetson-offline.tar.gz

# 2. ì˜¤í”„ë¼ì¸ íŒ¨í‚¤ì§€ ì„¤ì¹˜
cd jetson-camera-monitor/offline_packages
pip3 install --no-index --find-links=. *.whl

# 3. MAXN ëª¨ë“œ ì„¤ì •
cd ~/jetson-camera-monitor
./set_maxn_mode.sh

# 4. GMSL ë“œë¼ì´ë²„ ë¡œë“œ
cd camera_autostart
sudo ./camera_driver_autoload.sh

# 5. í”„ë¡œê·¸ë¨ ì‹¤í–‰
cd ~/jetson-camera-monitor/jetson1_monitoring
python3 JETSON1_INTEGRATED.py

# 6. ìë™ ì‹œì‘ ì„¤ì • (ì„ íƒ)
cd ~/jetson-camera-monitor
./install_autostart.sh
```

---

## ğŸ”§ ë¬¸ì œ í•´ê²°

### 1. GPUê°€ ì‚¬ìš©ë˜ì§€ ì•ŠìŒ

**ì¦ìƒ:**
```
[GPU] PyTorch CUDA ë¯¸ì§€ì› - YOLOëŠ” CPU ëª¨ë“œë¡œ ì‹¤í–‰
```

**í•´ê²°:**
```bash
# PyTorch CUDA í™•ì¸
python3 -c "import torch; print(torch.cuda.is_available())"

# Falseë©´ PyTorch ì¬ì„¤ì¹˜ (ì¸í„°ë„· í•„ìš”)
pip3 install torch --index-url https://pypi.jetson-ai-lab.io/jp6/cu126
```

---

### 2. ì¹´ë©”ë¼ê°€ ì•ˆ ë³´ì„

**ì¦ìƒ:**
```bash
ls -l /dev/video*
# ls: cannot access '/dev/video*': No such file or directory
```

**í•´ê²°:**
```bash
cd ~/jetson-camera-monitor/camera_autostart
sudo ./camera_driver_autoload.sh

# ë“œë¼ì´ë²„ í™•ì¸
lsmod | grep max96712
```

---

### 3. GUI ì°½ì´ ì•ˆ ëœ¸

**ì¦ìƒ:** í”„ë¡œê·¸ë¨ ì‹¤í–‰í–ˆëŠ”ë° í™”ë©´ì— ì•„ë¬´ê²ƒë„ ì•ˆ ë‚˜ì˜´

**í•´ê²°:**
```bash
export DISPLAY=:0
xhost +local:
python3 JETSON1_INTEGRATED.py
```

---

### 4. ì„±ëŠ¥ì´ ëŠë¦¼

**ì›ì¸:** MAXN ëª¨ë“œê°€ ì•„ë‹˜

**í™•ì¸:**
```bash
sudo nvpmodel -q
# NV Power Mode: MAXN_SUPER (2) â† ì´ê²Œ ë‚˜ì™€ì•¼ í•¨
```

**í•´ê²°:**
```bash
./set_maxn_mode.sh
# ë˜ëŠ”
./install_maxn_service.sh
sudo reboot
```

---

### 5. ë²„ì „ì´ ë‹¤ë¥´ê²Œ ì„¤ì¹˜ë¨

**ì¦ìƒ:**
```
ImportError: cannot import name 'YOLO'
AttributeError: 'YOLO' object has no attribute 'predict'
```

**í™•ì¸:**
```bash
./check_versions.sh

# ì¶œë ¥:
  âš ï¸  ultralytics: 8.5.0 (ì˜ˆìƒ: 8.3.224)
```

**í•´ê²°:**
```bash
# requirements.txtë¡œ ì¬ì„¤ì¹˜
pip3 install -r requirements.txt --force-reinstall
```

---

## ğŸ“Š ì„¤ì¹˜ í›„ í™•ì¸

### â­ ì „ì²´ ì‹œìŠ¤í…œ ê²€ì¦ (ì¶”ì²œ)

```bash
cd ~/jetson-camera-monitor
sudo ./system_check.sh
```

**ì´ ìŠ¤í¬ë¦½íŠ¸ê°€ ìë™ìœ¼ë¡œ í™•ì¸í•˜ëŠ” í•­ëª©:**
1. âœ… JetPack ë²„ì „
2. âœ… MAXN ì„±ëŠ¥ ëª¨ë“œ
3. âœ… GMSL ì¹´ë©”ë¼ ë“œë¼ì´ë²„
4. âœ… ì¹´ë©”ë¼ ì¥ì¹˜ (/dev/video*)
5. âœ… Python í™˜ê²½
6. âœ… CUDA (GPU)
7. âœ… PyTorch CUDA
8. âœ… Python íŒ¨í‚¤ì§€ ë²„ì „
9. âœ… ìë™ ì‹œì‘ ì„œë¹„ìŠ¤
10. âœ… ë””ìŠ¤í¬ ê³µê°„

**ì •ìƒ ì¶œë ¥ ì˜ˆì‹œ:**
```
í†µê³¼: 9 / ì‹¤íŒ¨: 0
âœ… ëª¨ë“  ê²€ì¦ í†µê³¼! ì‹œìŠ¤í…œ ì •ìƒì…ë‹ˆë‹¤.
```

**ë¬¸ì œê°€ ìˆìœ¼ë©´:** ìŠ¤í¬ë¦½íŠ¸ê°€ í•´ê²° ë°©ë²•ì„ ì•Œë ¤ì¤ë‹ˆë‹¤!

---

### ê°œë³„ í™•ì¸

#### ë²„ì „ í™•ì¸

```bash
./check_versions.sh
```

**ì •ìƒ ì¶œë ¥:**
```
[Python íŒ¨í‚¤ì§€ ë²„ì „]
numpy:          1.26.4
opencv-python:  4.12.0.88
ultralytics:    8.3.224

[PyTorch]
PyTorch:        2.8.0
CUDA Available: Yes
```

#### MAXN ëª¨ë“œ í™•ì¸

```bash
sudo nvpmodel -q
# NV Power Mode: MAXN_SUPER
# 2 â† ëª¨ë“œ ë²ˆí˜¸
```

#### ì¹´ë©”ë¼ í™•ì¸

```bash
ls -l /dev/video*
lsmod | grep max96712
```

---

## ğŸ¯ ì£¼ìš” íŒŒì¼ ìœ„ì¹˜

### Jetson #1

**í”„ë¡œê·¸ë¨:**
- ë©”ì¸: `~/jetson-camera-monitor/jetson1_monitoring/JETSON1_INTEGRATED.py`
- ì„¤ì •: `~/jetson-camera-monitor/jetson1_monitoring/config.json`

**ë°ì´í„° ì €ì¥:**
- ìŠ¤ëƒ…ìƒ·: `~/Detection/YYYYMMDD/HHMMSS.jpg`
- ë³¶ìŒ ë°ì´í„°: `~/StirFry_Data/left/`, `~/StirFry_Data/right/`

### Jetson #2

**í”„ë¡œê·¸ë¨:**
- ë©”ì¸: `~/jetson-camera-monitor/jetson2_frying_ai/JETSON2_INTEGRATED.py`
- ì„¤ì •: `~/jetson-camera-monitor/jetson2_frying_ai/config_jetson2.json`

**ë°ì´í„° ì €ì¥:**
- íŠ€ê¹€ ë°ì´í„°: `~/AI_Data/FryingData/`
- ë°”ì¼“ ë°ì´í„°: `~/AI_Data/BucketData/`

---

## ğŸ”„ ìë™ ì‹œì‘ ê´€ë¦¬

### ìë™ ì‹œì‘ ì¼œê¸°
```bash
./install_autostart.sh
```

### ìƒíƒœ í™•ì¸
```bash
sudo systemctl status jetson-monitor
```

### ë¡œê·¸ ë³´ê¸°
```bash
sudo journalctl -u jetson-monitor -f
```

### ì¤‘ì§€
```bash
sudo systemctl stop jetson-monitor
```

### ìë™ ì‹œì‘ ë„ê¸°
```bash
./uninstall_autostart.sh
```

---

## ğŸ“ ìš”ì•½

### ì¸í„°ë„· ìˆì„ ë•Œ (1ì‹œê°„)
1. `./transfer.sh` - í”„ë¡œì íŠ¸ ì „ì†¡
2. `./install.sh` - ì˜ì¡´ì„± ì„¤ì¹˜
3. `./set_maxn_mode.sh` - ì„±ëŠ¥ ëª¨ë“œ
4. `camera_driver_autoload.sh` - ì¹´ë©”ë¼ ë“œë¼ì´ë²„
5. `python3 JETSON1_INTEGRATED.py` - ì‹¤í–‰
6. `./install_autostart.sh` - ìë™ ì‹œì‘ (ì„ íƒ)

### ì¸í„°ë„· ì—†ì„ ë•Œ (30ë¶„)
1. ì‚¬ì „ ì¤€ë¹„: USBì— ì˜¤í”„ë¼ì¸ íŒ¨í‚¤ì§€ ì¤€ë¹„
2. USBì—ì„œ ë³µì‚¬ ë° ì••ì¶• í•´ì œ
3. ì˜¤í”„ë¼ì¸ íŒ¨í‚¤ì§€ ì„¤ì¹˜
4. ë‚˜ë¨¸ì§€ëŠ” ì¸í„°ë„· ìˆì„ ë•Œì™€ ë™ì¼

### í•µì‹¬ í¬ì¸íŠ¸
- âœ… `requirements.txt` ë•ë¶„ì— ë²„ì „ ìë™ ê³ ì •
- âœ… WiFiëŠ” ì²˜ìŒ ì„¤ì¹˜í•  ë•Œë§Œ í•„ìš”
- âœ… ì„¤ì¹˜ í›„ ì™„ì „ ì˜¤í”„ë¼ì¸ ë™ì‘
- âœ… GPU ê°€ì† ìë™ í™œì„±í™”

---

**ì´ ë¬¸ì„œ í•˜ë‚˜ë©´ ë°°í¬ ë!** ğŸš€

**ì‘ì„±ì¼:** 2025-01-05
**ëŒ€ìƒ:** JetPack 6.2 (L4T R36.4.3)
